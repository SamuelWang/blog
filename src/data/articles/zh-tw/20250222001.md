---
title: '分享一種組織 Vue 專案結構的方法'
slug: 'sharing-a-way-to-organize-the-structure-of-a-vue-project'
author: 'Samuel Wang'
description: '一種能提升維護性的 Vue 專案檔案與邏輯組織方式，包含 API、views、services、composables 與 utils 等層級。'
tags: ['Architecture', 'Frontend', 'Vue']
releaseDate: '2025-02-22'
updateDate: '2025-02-22'
---

你或許看過有些元件把所有 API 請求與業務流程的邏輯都放在同一個元件裡。元件會變得非常龐大，而且這些邏輯常常在專案中重複出現。

為了解決這些問題，我們需要更好的架構設計來組織前端專案的檔案與邏輯，讓專案更容易維護，開發者也能直覺地知道程式在哪裡。

網路上有很多方式組織專案程式碼的方式，但要依照自己的業務需求去調整。有一種做法是按責任分層（例如把 API 邏輯從元件中分離）；另一種是按功能模組來劃分，例如在部落格網站上按文章模組分類。

在文中，我會分享我在 TypeScript + Vue 專案中組織程式碼的做法。

## API 層

首先，我會把 API 邏輯從元件中抽離，放到 `apis` 資料夾下。在 `apis` 裡，依功能模組建立子資料夾，例如 `posts`。

一般來說，API 的資料介面通常與頁面使用的資料介面不同，因此每個功能模組的子資料夾內會放一個 `models` 資料夾來定義 API 的資料型別。

## 表現層與元件

接著，路由（router）所使用的元件會放在 `views` 資料夾下，概念上就是頁面元件。頁面元件的子元件與共用元件則放在 `components` 資料夾中。

在 `components` 裡，我會依功能模組分類元件。例如與文章相關的元件放在 `posts` 資料夾，通用 UI 元件放在 `ui` 資料夾。

## Service、Composable 與 Model 層

在 API 與元件之間，通常需要大量的業務邏輯來處理資料。我把這些業務邏輯放在 `services` 資料夾，並同樣依功能模組分類。我會把服務實作為多個單一職責的函式，將業務邏輯寫成獨立的函式有助於測試與維護。

Vue 3 引入的 Composition API 讓我們可以建立許多可重用的自訂 `composable`。這些包含狀態邏輯的 Composition API 我會放在 `composables` 資料夾，並依功能模組再拆子資料夾。

`service` 與 `composable` 的差異在於： `service` 只處理帶有業務邏輯的資料運算，而 `composable` 則會包含頁面或元件所需的狀態。在開發時，應盡量把重複的邏輯或狀態抽取為 `service` 與 `composable`，遵循 DRY 原則。

頁面與元件會使用許多不同的資料型別，我把這些型別放在 `models` 資料夾，並依功能模組往下做分類。

## Store 與工具層

全域狀態管理程式碼放在 `store` 資料夾。`store` 裡應只包含在全專案需要使用的狀態；若某個狀態只在兩到三個父子元件間使用，建議用 `composable` 或 `props` 來管理。

工具函式（utility functions）則放在 `utils` 資料夾。和 `service` 類似，我也把工具函式寫成單一職責的函式，以方便測試與維護。

到目前為止，我分享了一種組織 Vue 專案的做法。以下是我所描述的結構總覽：

```
src/
├── apis/
│   └── posts/
│       └── models/
├── assets/
├── components/
│   ├── posts/
│   └── ui/
├── composables/
│   └── posts/
├── models/
│   └── posts/
├── routes/
├── services/
│   └── posts/
├── store/
├── styles/
├── utils/
└── views/
```
